I"˝<p>This post describes how to cross compile the Beaglebone Black (BBB) or Beaglebone Green (BBG) Linux kernel on an Ubuntu 18.04 Linux machine.</p>

<h2 id="1-introduction">1. Introduction</h2>
<p>Although it is possible to develop directly on a Linux embedded
platform, often the disk and memory capacity is insufficient for
doing kernel work. Moreover, not all embedded systems have luxuries
such as Ethernet. For these reasons, the normal practice is to
compile on a more powerful host machine. In the descriptions that following, the <code class="language-plaintext highlighter-rouge">$</code> prompt is from the host machine and the <code class="language-plaintext highlighter-rouge">debian@beaglebone:~$</code> prompt is on the BBB.</p>

<p>The system that I am using is <a href="https://releases.ubuntu.com/18.04/">Ubuntu
18.04.5</a>.  Start by installing this on your real or virtual machine.</p>

<p>Also, you should update the Debian distribution on your BBB. Download and flash the <a href="https://beagleboard.org/latest-images">latest image</a>. Boot from an SD card with the latest image by pressing the ‚ÄúUser Boot‚Äù button while applying power.</p>

<p>Then extend the partition to the same size as the SDcard (the initial partition is 4 GB) by executing.</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo</span> /opt/scripts/tools/grow_partition.sh
</code></pre></div></div>
<p>and rebooting.</p>

<h2 id="2-reflash-the-emmc">2. Reflash the eMMC</h2>
<p>If you want to <a href="https://elinux.org/Beagleboard:BeagleBoneBlack_Debian#Flashing_eMMC">reflash the eMMC</a> as well, uncomment the following line in <code class="language-plaintext highlighter-rouge">/boot/uEnv.txt</code>:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmdline=init=/opt/scripts/tools/eMMC/init-eMMC-flasher-v3.sh
</code></pre></div></div>
<p>Then reboot again from the SDcard. After a few tens of seconds, you should see a pattern of the blue LEDs turning on in sequence. After tens of minutes, they will all turn off and your eMMC will have the same image as the SDcard.</p>

<h2 id="2-cross-compilation">2. Cross Compilation</h2>
<p>On the BBB, work out what kernel version is being used:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>debian@beaglebone:~<span class="nv">$ </span><span class="nb">uname</span> <span class="nt">-r</span>
4.19.94-ti-r42
</code></pre></div></div>

<p>Now install the cross compiler.</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>gcc-arm-linux-gnueabi bison
</code></pre></div></div>

<p>Clone the BBB Linux repository and checkout the kernel version you are using. Even if you are planning to upgrade
the kernel, it is a good idea to make sure you can rebuild the original one first.</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git clone git://github.com/beagleboard/linux.git
<span class="nv">$ </span>git checkout 4.19.94-ti-r42
</code></pre></div></div>
:ET