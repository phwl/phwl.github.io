I"p<p>Using Docker, installation of the Xilinx Vivado tools can be automated and
isolated.</p>

<h2 id="step-1-install-docker">Step 1 Install Docker</h2>
<p>You can either install Docker on Windows or MacOS using the instructions <a href="http://phwl.org/2020/installing-docker/">here</a>. On Ubuntu, Docker can be installed 
either via the <a href="https://docs.docker.com/engine/install/ubuntu/">instructions on the Docker site</a> or using the Ubuntu package via the instructions here.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get remove docker docker-engine docker.io

<span class="nb">sudo </span>apt <span class="nb">install </span>docker.io
<span class="nb">sudo </span>systemctl start docker
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>docker
</code></pre></div></div>

<h2 id="step-2-download-dockerfile">Step 2 Download Dockerfile</h2>
<p>Clone my Dockerfiles at <a href="https://github.com/phwl/docker-vivado-2020.1">https://github.com/phwl/docker-vivado-2020.1</a>.</p>

<h2 id="step-3-download-xilinx-vivado-design-suite-20201">Step 3 Download Xilinx Vivado Design Suite 2020.1</h2>
<p>Download the <a href="https://www.xilinx.com/member/forms/download/xef.html?filename=Xilinx_Unified_2020.1_0602_1208.tar.gz">Vivado HLx 2020.1: All OS installer Single-File Download</a> to the docker-ubuntu-vivado directory (you will need an account).
The filename should be <code class="language-plaintext highlighter-rouge">Xilinx_Unified_2020.1_0602_1208.tar.gz</code> and it 
should be 36~GB (the Docker image is 109~GB so make sure you have enough
space in <code class="language-plaintext highlighter-rouge">/var/lib/docker</code>.</p>

<h2 id="step-4-build-and-test-the-docker-image">Step 4 Build and test the Docker image</h2>
<p>Follow the instructions in docker-ubuntu-vivado/README.md, i.e. type</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker image build <span class="nt">-t</span> vivado-2020.1 <span class="nb">.</span>
</code></pre></div></div>

<p>You can run using</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -e DISPLAY=`hostname`:0.0 -it --rm -v $PWD:/home/user/work -w /home/user vivado-2020.1
</code></pre></div></div>
<h2 id="step-5-customise">Step 5 Customise</h2>
<p>In particular, you will probably want to edit Dockerfile and/or entrypoint.sh to include your licence files.</p>

<h2 id="step-6-file-system-71020">Step 6 File System (7/10/20)</h2>
<p>By default, Docker puts its images in <code class="language-plaintext highlighter-rouge">/var/lib/docker</code>. On most of my 
machines I have a relatively small SSD for <code class="language-plaintext highlighter-rouge">/</code> and use a larger hard disk
for <code class="language-plaintext highlighter-rouge">/home</code>. Since the <a href="https://github.com/phwl/docker-ubuntu-vivado">Xilinx tools</a> take up 120 GB alone, I moved <code class="language-plaintext highlighter-rouge">/var</code>, <code class="language-plaintext highlighter-rouge">/home</code> and <code class="language-plaintext highlighter-rouge">/opt</code> to the magnetic disk. Thus my /etc/fstab looks like</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># mount the local HD to /home, /var and /opt
/dev/disk/by-uuid/HARD_DISK /srv/fs auto nodev,nofail,x-gvfs-show 0 0
/srv/fs/home	/home	none	bind	0	0
/srv/fs/var	/var	none	bind	0	0
/srv/fs/opt	/opt	none	bind	0	0
</code></pre></div></div>

:ET