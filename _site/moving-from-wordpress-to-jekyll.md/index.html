<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.6 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    
    
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Moving from Wordpress to Jekyll - Life, the Universe and Fishing</title>
<meta name="description" content="I have been using Wordpress for many years.It produces good looking websites and is easy to install and maintain.Unfortunately, it isn’t easy at all to backup the website, and theinterface is all web-based meaning it is difficult to createscripts which update the website. The old website is http://phwl.org/blogand the new website can be viewed at https://phwl.github.io.I will be switching them over at some point and moved the olddomain to a spare http://uxa.apl.mybluehost.me/.">


  <meta name="author" content="phwl">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Life, the Universe and Fishing">
<meta property="og:title" content="Moving from Wordpress to Jekyll">
<meta property="og:url" content="http://localhost:4000/moving-from-wordpress-to-jekyll.md/">


  <meta property="og:description" content="I have been using Wordpress for many years.It produces good looking websites and is easy to install and maintain.Unfortunately, it isn’t easy at all to backup the website, and theinterface is all web-based meaning it is difficult to createscripts which update the website. The old website is http://phwl.org/blogand the new website can be viewed at https://phwl.github.io.I will be switching them over at some point and moved the olddomain to a spare http://uxa.apl.mybluehost.me/.">



  <meta property="og:image" content="https://jekyllrb.com/img/logo-2x.png">





  <meta property="article:published_time" content="2019-06-19T01:52:46+08:00">





  

  


<link rel="canonical" href="http://localhost:4000/moving-from-wordpress-to-jekyll.md/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "phwl",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Life, the Universe and Fishing Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Life, the Universe and Fishing
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/archive" >Archive</a>
            </li><li class="masthead__menu-item">
              <a href="/gallery" >Gallery</a>
            </li><li class="masthead__menu-item">
              <a href="/research" >Research</a>
            </li><li class="masthead__menu-item">
              <a href="/about" >About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  

  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Moving from Wordpress to Jekyll">
    <meta itemprop="description" content="I have been using Wordpress for many years.It produces good looking websites and is easy to install and maintain.Unfortunately, it isn’t easy at all to backup the website, and theinterface is all web-based meaning it is difficult to createscripts which update the website. The old website is http://phwl.org/blogand the new website can be viewed at https://phwl.github.io.I will be switching them over at some point and moved the olddomain to a spare http://uxa.apl.mybluehost.me/.">
    <meta itemprop="datePublished" content="June 19, 2019">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Moving from Wordpress to Jekyll
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>I have been using <a href="https://wordpress.com/">Wordpress</a> for many years.
It produces good looking websites and is easy to install and maintain.
Unfortunately, it isn’t easy at all to backup the website, and the
interface is all web-based meaning it is difficult to create
scripts which update the website. The old website is <a href="http://phwl.org/blog">http://phwl.org/blog</a>
and the new website can be viewed at <a href="https://phwl.github.io">https://phwl.github.io</a>.
I will be switching them over at some point and moved the old
domain to a spare <a href="http://uxa.apl.mybluehost.me/">http://uxa.apl.mybluehost.me/</a>.</p>

<p>Most programmers use <a href="https://www.github.com">github</a> which offers
<a href="https://pages.github.com">Github Pages</a> for website hosting.
The advantages over Wordpress plus hosting are:</p>
<ul>
  <li>It is free.</li>
  <li>Websites can be edited with a normal text editor.</li>
  <li>It is hosted by Github so version control etc is integrated.</li>
  <li>A local copy is available so scripts to automate updating the
website etc are simple and changes can be made while offline.</li>
  <li>It is easy to make backups.</li>
  <li>Latex rendering is easy.</li>
  <li>Markdown makes code blocks easier.</li>
</ul>

<p>I managed to move <a href="http://phwl.org">phwl.org</a> to Github under MacOS using the
steps below.</p>

<h2 id="install-jekyll">Install Jekyll</h2>
<ul>
  <li>Install ruby, rbenv, bundler and jekyll (I used homebrew) <a href="https://jekyllrb.com/docs/installation/macos/">https://jekyllrb.com/docs/installation/macos/</a></li>
</ul>

<h2 id="install-minimal-mistakes-jekyll-theme">Install minimal-mistakes-jekyll theme</h2>
<ul>
  <li>Jekyll is not compatible with the stupid Dropbox directory name <code class="highlighter-rouge">'Dropbox\ \(Sydney\ Uni\)/'</code>, and I don’t think there is a way to change it. To get around this I put my website directory outside of Dropbox and made a symbolic link (inside Dropbox) so it would be backed up</li>
  <li>Make a copy of <a href="https://github.com/mmistakes/mm-github-pages-starter">https://github.com/mmistakes/mm-github-pages-starter</a>, edit the _config.yml</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle
bundle update
</code></pre></div></div>

<ul>
  <li>To use the local server, type <code class="highlighter-rouge">bundle exec jekyll serve --incremental</code>
and browse to <code class="highlighter-rouge">localhost:4000</code>.</li>
</ul>

<h2 id="convert-website">Convert website</h2>
<ul>
  <li>Use the Wordpress exporter to export old website in xml format (tried the Jekyll converter plugin but that doesn’t work for large websites). This just gives the content, without attachments etc. Then</li>
  <li>Use <a href="https://github.com/thomasf/exitwp">exitwp</a> to convert Wordpress to Jekyll</li>
  <li>Copy all the images and documents from the Wordpress site (<code class="highlighter-rouge">wp-content</code> directory) using <code class="highlighter-rouge">ftp</code>. I used <code class="highlighter-rouge">FileZilla</code> from the App store for this.</li>
  <li>Copy the _posts directory from <code class="highlighter-rouge">exitwp</code> into the Jekyll website.</li>
  <li>Copy wp-content files into <code class="highlighter-rouge">assets/images</code> on the Jekyll website.</li>
  <li>To make publically available, type <code class="highlighter-rouge">bundle exec jekyll build</code> and then push the files up to Github (the repository is <a href="https://github.com/phwl/phwl.github.io">https://github.com/phwl/phwl.github.io</a>)</li>
</ul>

<h2 id="fix-_posts-and-_pages">Fix <code class="highlighter-rouge">_posts</code> and <code class="highlighter-rouge">_pages</code></h2>
<ul>
  <li>This took the most time. The main changes I needed to do was to fix the headers: remove the old <code class="highlighter-rouge">link</code> header, add a teaser image (blank one if unneeded). Then I edited the image insertion code, which involved the extensive use of Python scripts to do global replacements like</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import fileinput
import re

for line in fileinput.input(sys.argv[1], inplace=1, backup='.bak'):
    line = re.sub(r'\[!.*\((.+)\).*\]\(.*\)', r'[![](\1){: .align-center}](\1)', line.rstrip())
    print(line)
</code></pre></div></div>
<ul>
  <li>I later added links to the original image with this script.</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import fileinput
import re

for line in fileinput.input(inplace=1, backup='.bak'):
    line = re.sub('!\[(.*)\]\((.*)\)\{: .align-center\}',r'[![\1](\2){: .align-center}](\2)', line.rstrip())
    print(line)
</code></pre></div></div>
<ul>
  <li>and then changed them yet again to use the include form</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{% include figure image_path="/assets/images/2019/10/IMG_1268.jpg" caption="Shenzhen" %}

</code></pre></div></div>

<ul>
  <li>I also used wide pages <a href="https://mmistakes.github.io/minimal-mistakes/markup-text-readability-wide-page/">https://mmistakes.github.io/minimal-mistakes/markup-text-readability-wide-page/</a></li>
</ul>

<h2 id="customise-website">Customise website</h2>
<ul>
  <li>Since I wanted teaser images appearing on the front page, I put a copy of <a href="https://github.com/justinrummel/jr.com-mm/blob/jr-branch/_includes/archive-single.html">https://github.com/justinrummel/jr.com-mm/blob/jr-branch/_includes/archive-single.html</a> in <code class="highlighter-rouge">_includes/archive-single.html</code></li>
  <li>To use a custom domain <a href="https://help.github.com/en/articles/managing-a-custom-domain-for-your-github-pages-site">https://help.github.com/en/articles/managing-a-custom-domain-for-your-github-pages-site</a></li>
  <li>To use single pages without sidebar <a href="https://github.com/mmistakes/minimal-mistakes/issues/1322#issuecomment-521386064">https://github.com/mmistakes/minimal-mistakes/issues/1322#issuecomment-521386064</a></li>
  <li>To change home to a grid layout I changed home.html so the loop is in a grid wrapper</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div class="grid__wrapper"&gt;

&lt;/div&gt;
</code></pre></div></div>
<ul>
  <li>Make figures linked to the image</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
&lt;figure class="{{ include.class }}"&gt;
  &lt;a href=
    {% if include.image_path contains "://" %}
      "{{ include.image_path }}"
    {% else %}
      "{{ include.image_path | relative_url }}"
    {% endif %}&gt;
  &lt;img src=
    {% if include.image_path contains "://" %}
      "{{ include.image_path }}"
    {% else %}
      "{{ include.image_path | relative_url }}"
    {% endif %}
    alt="{% if include.alt %}{{ include.alt }}{% endif %}"&gt;
  {% if include.caption %}
    &lt;figcaption&gt;
      {{ include.caption | markdownify | remove: "&lt;p&gt;" | remove: "&lt;/p&gt;" }}
    &lt;/figcaption&gt;{% endif %}&lt;/a&gt;&lt;/figure&gt;

</code></pre></div></div>
<ul>
  <li>To enable <script type="math/tex">\LaTeX</script> rendering with mathjax (if it didn’t work the LaTeX symbol would not have appeared), I created a file in <code class="highlighter-rouge">_includes/latex.html</code> with</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
&lt;script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"&gt;
&lt;/script&gt;

</code></pre></div></div>
<p>This is similar to the approach in <a href="https://haixing-hu.github.io/programming/2013/09/20/how-to-use-mathjax-in-jekyll-generated-github-pages/">https://haixing-hu.github.io/programming/2013/09/20/how-to-use-mathjax-in-jekyll-generated-github-pages/</a>.</p>

<h2 id="links">Links</h2>
<p>I found the following sites helpful:</p>
<ul>
  <li><a href="https://www.alexdglover.com/the-move-to-jekyll/">https://www.alexdglover.com/the-move-to-jekyll/</a></li>
  <li><a href="http://www.seanbuscay.com/blog/jekyll-teaser-pager-and-read-more/">http://www.seanbuscay.com/blog/jekyll-teaser-pager-and-read-more/</a></li>
  <li><a href="https://stackoverflow.com/questions/25463865/in-jekyll-how-do-i-grab-a-posts-first-image">https://stackoverflow.com/questions/25463865/in-jekyll-how-do-i-grab-a-posts-first-image</a></li>
  <li><a href="https://www.vgemba.net/blog/Blog-Migration-Part-1-Setup/">https://www.vgemba.net/blog/Blog-Migration-Part-1-Setup/</a></li>
  <li><a href="https://github.com/merlos/jekyll-auto-image">https://github.com/merlos/jekyll-auto-image</a></li>
  <li><a href="http://lanyon.getpoole.com/">http://lanyon.getpoole.com/</a></li>
  <li><a href="http://drjekyllthemes.github.io/">http://drjekyllthemes.github.io/</a></li>
  <li><a href="https://gykovacsblog.wordpress.com/tag/jekyll-scholar/">https://gykovacsblog.wordpress.com/tag/jekyll-scholar/</a></li>
  <li><a href="https://www.aravindiyer.com/tech/how-i-made-my-website-with-jekyll/#">https://www.aravindiyer.com/tech/how-i-made-my-website-with-jekyll/#</a></li>
  <li><a href="https://github.com/alshedivat/al-folio">https://github.com/alshedivat/al-folio</a></li>
  <li><a href="https://haixing-hu.github.io/programming/2013/09/20/how-to-use-mathjax-in-jekyll-generated-github-pages/">https://haixing-hu.github.io/programming/2013/09/20/how-to-use-mathjax-in-jekyll-generated-github-pages/</a></li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        


  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#website" class="page__taxonomy-item" rel="tag">website</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2019-06-19T01:52:46+08:00">June 19, 2019</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Moving+from+Wordpress+to+Jekyll%20http%3A%2F%2Flocalhost%3A4000%2Fmoving-from-wordpress-to-jekyll.md%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fmoving-from-wordpress-to-jekyll.md%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fmoving-from-wordpress-to-jekyll.md%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/ten-lessons-i-wish-i-had-been-taught-gian-carlo-rota/" class="pagination--pager" title="Ten Lessons I wish I had been Taught - Gian-Carlo Rota
">Previous</a>
    
    
      <a href="/visit-to-w1qg-shack/" class="pagination--pager" title="Visit to W1QG’s shack
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
      <a href="/hkshanghai19/">
        <img src=
          
            "/assets/images/2019/10/DSCF0253.jpg"
          
          alt="Hong Kong and Shanghai Trip 2019"></a>
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/hkshanghai19/" rel="permalink">Hong Kong and Shanghai Trip 2019
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">Shenzhen
I always look forward to visiting Hong Kong and Shanghai.
Here are some photos from the trip.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
      <a href="/open-day-19/">
        <img src=
          
            "/assets/images/2019/08/openday-0.jpg"
          
          alt="Sydney University Open Day 2019"></a>
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/open-day-19/" rel="permalink">Sydney University Open Day 2019
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">
  
  
  
    
      

    

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
      <a href="/ubuntu-nvdia-19/">
        <img src=
          
            "/assets/images/2019/08/Nvidia_logo.svg"
          
          alt="Setting up some new Ubuntu/NVIDIA machines"></a>
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/ubuntu-nvdia-19/" rel="permalink">Setting up some new Ubuntu/NVIDIA machines
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">Some new machines arrived in the lab including a Dell XPS 8930 Desktop with
Dell UltraSharp U2518D monitor.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
      <a href="/lighhouse19/">
        <img src=
          
            "/assets/images/2019/08/IMG_4048-large.jpg"
          
          alt="International Lighthouse and Lightship Weekend 2019"></a>
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/lighhouse19/" rel="permalink">International Lighthouse and Lightship Weekend 2019
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">Activation of Barrenjoey Lighthouse with the Manly Warringah Radio Society (MWRS)
on the International Lighthouse and Lightship Weekend. There are more photos at the MWRS writeup.
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
          <li><a href="https://facebook.com/pleong" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
        
      
        
          <li><a href="https://github.com/phwl" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://linkedin.com/in/philip-h-w-leong-949484" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin-f" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 phwl. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
