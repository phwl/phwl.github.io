<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.6 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Ubuntu GPU Machine Install - Life, the Universe and Fishing</title>
<meta name="description" content="Another new machine in the lab, here is the configuration.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Life, the Universe and Fishing">
<meta property="og:title" content="Ubuntu GPU Machine Install">
<meta property="og:url" content="http://localhost:4000/2020/ubuntu-gpu-machine-install/">


  <meta property="og:description" content="Another new machine in the lab, here is the configuration.">



  <meta property="og:image" content="http://localhost:4000/assets/images/2019/08/Nvidia_logo.svg">





  <meta property="article:published_time" content="2020-06-09T11:56:56+10:00">





  

  


<link rel="canonical" href="http://localhost:4000/2020/ubuntu-gpu-machine-install/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "phwl",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Life, the Universe and Fishing Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Life, the Universe and Fishing
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/archive" >Archive</a>
            </li><li class="masthead__menu-item">
              <a href="/gallery" >Gallery</a>
            </li><li class="masthead__menu-item">
              <a href="/research" >Research</a>
            </li><li class="masthead__menu-item">
              <a href="/about" >About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  

  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Ubuntu GPU Machine Install">
    <meta itemprop="description" content="Another new machine in the lab, here is the configuration.">
    <meta itemprop="datePublished" content="June 09, 2020">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Ubuntu GPU Machine Install
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>Another new machine in the lab, here is the configuration.</p>

<ul>
  <li>Configure BIOS to boot on power failure</li>
  <li>Install Ubuntu 18.04</li>
  <li>Note can’t log in using the display manager so ctrl-alt-F3 to get a tty and install NVidia drivers.  First check default install is ok</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu-drivers devices
</code></pre></div></div>

<p>and then</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo ubuntu-drivers autoinstall
</code></pre></div></div>

<ul>
  <li>Edit /etc/hosts to be</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>127.0.0.1	localhost
127.0.1.1	machinename.staff.sydney.edu.au machinename

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
</code></pre></div></div>

<ul>
  <li>Edit /etc/hostname to be</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>machinename
</code></pre></div></div>

<ul>
  <li>Install packages</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install net-tools openssh-server nfs-kernel-server nfs-common
sudo sysemctl start ssh
</code></pre></div></div>

<ul>
  <li>Create partition and figure out blkid</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo fdisk /dev/sda
sudo mkfs -t ext4 /dev/sda1
sudo blkid
</code></pre></div></div>

<ul>
  <li>Edit /etc/fstab to mount disks</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UUID=43920ded-edf5-4c1e-821a-1a0abff665cc /media/seagate2g ext4 defaults 0 1
fileservername.staff.sydney.edu.au:/volume1/xxx /home/xxx nfs   vers=4.1,defaults    0       0
</code></pre></div></div>

<ul>
  <li>Move /home to a different partition</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo mount -a
cd /home
sudo rsync -av . /media/seagate2g/home
cd /
mv home home.old
ln -s /media/seagate2g/home home
# check everything is ok before
sudo rm -rf home.old
</code></pre></div></div>

<ul>
  <li>
    <p>Create users</p>
  </li>
  <li>
    <p>Install anaconda (locally, download from <a href="https://www.anaconda.com/products/individual">https://www.anaconda.com/products/individual</a>)</p>
  </li>
  <li>
    <p>Install pytorch</p>
  </li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda install pytorch torchvision cudatoolkit=10.2 -c pytorch
</code></pre></div></div>

<ul>
  <li>
    <p>Reboot and you should be able to ssh to the machine (and the display manager should work)</p>
  </li>
  <li>
    <p>Here are the machine details</p>
  </li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Power Supply : Gigabyte AORUS AP750GM
Motherboard : MSI MPG X570 GAMING PRO CARBON WIFI AM4 ATX Motherboard          
AB58526 Fractal Design Define R5 Mid-Tower ATX Case - Black 
AC15551 Cooler Master MasterFan MF120R ARGB 120mm Fan - 3 Pack + LED Controller 
AC16770 Cooler Master MasterLiquid ML360R ARGB AIO Liquid CPU Cooler 
AC18159 ASUS GeForce RTX 2080 Ti ROG Strix Advanced 11GB Video Card 
AC19488 Crucial P1 1TB NVMe M.2 PCIe 3D NAND SSD CT1000P1SSD8 
AC20161 Seagate ST2000DM008 2TB BarraCuda 3.5" 7200RPM SATA3 Desktop Hard Drive 
AMD Ryzen 9 3900X 12 Core Socket AM4 3.8GHz CPU Processor + Wraith Prism Cooler
AC29335 G.Skill Ripjaws V 64GB (2x 32GB) DDR4 3200MHz CL16 Memory - Black 
</code></pre></div></div>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#linux" class="page__taxonomy-item" rel="tag">linux</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#ubuntu" class="page__taxonomy-item" rel="tag">ubuntu</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#software" class="page__taxonomy-item" rel="tag">software</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2020-06-09T11:56:56+10:00">June 09, 2020</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Ubuntu+GPU+Machine+Install%20http%3A%2F%2Flocalhost%3A4000%2F2020%2Fubuntu-gpu-machine-install%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F2020%2Fubuntu-gpu-machine-install%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2F2020%2Fubuntu-gpu-machine-install%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2020/rtamc/" class="pagination--pager" title="Real-time automatic modulation classification using RFSoC
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
      <a href="/2020/rtamc/">
        <img src=
          
            "/assets/images/2020/06/amc-screenshot.png"
          
          alt="Real-time automatic modulation classification using RFSoC"></a>
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2020/rtamc/" rel="permalink">Real-time automatic modulation classification using RFSoC
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">Here is a 7 minute video on our recent work on FPGA-based machine learning
for real-time automatic modulation classification (AMC).
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
      <a href="/2020/codan-6924/">
        <img src=
          
            "/assets/images/2020/06/codan6924-1.jpeg"
          
          alt="Codan 6924"></a>
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2020/codan-6924/" rel="permalink">Codan 6924
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">Picked up this “not working” Codan radio on Gumtree.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
      <a href="/2020/wailing-joe/">
        <img src=
          
            "/assets/images/2020/05/wailingjoe.jpeg"
          
          alt="Wailing Joe Siren"></a>
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2020/wailing-joe/" rel="permalink">Wailing Joe Siren
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">Cleaning up some old stuff and found this from the 70’s.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
      <a href="/2020/smoked-duck/">
        <img src=
          
            "/assets/images/2020/05/duck9.jpeg"
          
          alt="Smoked duck"></a>
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2020/smoked-duck/" rel="permalink">Smoked duck
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">One of my favorite dishes is smoked duck.

</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
          <li><a href="https://facebook.com/pleong" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
        
      
        
          <li><a href="https://github.com/phwl" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://linkedin.com/in/philip-h-w-leong-949484" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin-f" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 phwl. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
